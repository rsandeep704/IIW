{% load staticfiles %}
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src=" {% static "/js/typeahead.bundle.js" %}"></script>
    <script type="text/javascript">
        var substringMatcher = function (strs) {
            return function findMatches(q, cb) {
                var matches, substringRegex;

                // an array that will be populated with substring matches
                matches = [];

                // regex used to determine if a string contains the substring `q`
                substrRegex = new RegExp(q, 'i');

                // iterate through the pool of strings and for any string that
                // contains the substring `q`, add it to the `matches` array
                $.each(strs, function (i, str) {
                    if (substrRegex.test(str)) {
                        matches.push(str);
                    }
                });

                cb(matches);
            };
        };

        var searchResults = new Bloodhound({
            datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
            queryTokenizer: Bloodhound.tokenizers.whitespace,
            prefetch: '/search/',
            remote: {
                url: '/search/?q=note',
                wildcard: '%QUERY'
            }
        });
        $(document).ready(function () {
            $('#remote .typeahead').typeahead(null, {
                name: 'best-pictures',
                display: 'value',
                source: searchResults
            });
        });

    </script>
</head>
<body>
<div id="the-basics">
    <input class="typeahead" type="text" placeholder="States of USA">
</div>
</body>
</html>